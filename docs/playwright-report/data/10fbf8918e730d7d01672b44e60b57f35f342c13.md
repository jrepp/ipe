# Page snapshot

```yaml
- generic [ref=e2]:
  - banner [ref=e3]:
    - heading "IPE" [level=1] [ref=e4]
    - generic [ref=e5]: Intent Policy Engine
    - generic [ref=e6]: High-Performance Policy Evaluation with Multi-Tier Execution
  - navigation [ref=e7]:
    - generic [ref=e8]:
      - link "ğŸ“š Quick Links" [ref=e9] [cursor=pointer]:
        - /url: "#quick-links"
      - link "âš¡ Features" [ref=e10] [cursor=pointer]:
        - /url: "#features"
      - link "ğŸ—ï¸ Architecture" [ref=e11] [cursor=pointer]:
        - /url: "#architecture"
      - link "ğŸŒ WebAssembly" [ref=e12] [cursor=pointer]:
        - /url: "#wasm"
      - link "ğŸ¯ Evaluation" [ref=e13] [cursor=pointer]:
        - /url: "#evaluation"
      - link "ğŸš€ Get Started" [ref=e14] [cursor=pointer]:
        - /url: "#getting-started"
      - link "ğŸ® Live Demo" [ref=e15] [cursor=pointer]:
        - /url: "#demo"
  - generic [ref=e16]:
    - generic [ref=e17]:
      - heading "Quick Links" [level=2] [ref=e18]
      - generic [ref=e19]:
        - link "ğŸ“Š Performance Dashboard Interactive D3.js visualization of predicate execution performance. View latency, throughput, JIT speedup, and outlier analysis." [ref=e20] [cursor=pointer]:
          - /url: performance.html
          - generic [ref=e21]: ğŸ“Š
          - generic [ref=e22]: Performance Dashboard
          - generic [ref=e23]: Interactive D3.js visualization of predicate execution performance. View latency, throughput, JIT speedup, and outlier analysis.
        - link "ğŸ“ˆ Benchmark Timeline Historical Criterion benchmark tracking with timeline visualization. Monitor performance over time, detect regressions, track improvements." [ref=e24] [cursor=pointer]:
          - /url: benchmarks.html
          - generic [ref=e25]: ğŸ“ˆ
          - generic [ref=e26]: Benchmark Timeline
          - generic [ref=e27]: Historical Criterion benchmark tracking with timeline visualization. Monitor performance over time, detect regressions, track improvements.
        - link "ğŸ—ï¸ Architecture Detailed system architecture including parsing, compilation, storage, and multi-tier execution layers." [ref=e28] [cursor=pointer]:
          - /url: ARCHITECTURE.md
          - generic [ref=e29]: ğŸ—ï¸
          - generic [ref=e30]: Architecture
          - generic [ref=e31]: Detailed system architecture including parsing, compilation, storage, and multi-tier execution layers.
        - link "âš™ï¸ Bytecode Stack-based bytecode instruction set, interpreter design, and JIT compilation strategy." [ref=e32] [cursor=pointer]:
          - /url: BYTECODE.md
          - generic [ref=e33]: âš™ï¸
          - generic [ref=e34]: Bytecode
          - generic [ref=e35]: Stack-based bytecode instruction set, interpreter design, and JIT compilation strategy.
        - link "ğŸŒ³ AST Abstract Syntax Tree structure, type system, and compilation to bytecode." [ref=e36] [cursor=pointer]:
          - /url: AST.md
          - generic [ref=e37]: ğŸŒ³
          - generic [ref=e38]: AST
          - generic [ref=e39]: Abstract Syntax Tree structure, type system, and compilation to bytecode.
        - link "ğŸ” Policy Index Fast policy lookup and indexing by resource type for efficient evaluation." [ref=e40] [cursor=pointer]:
          - /url: INDEX.md
          - generic [ref=e41]: ğŸ”
          - generic [ref=e42]: Policy Index
          - generic [ref=e43]: Fast policy lookup and indexing by resource type for efficient evaluation.
        - link "ğŸ“– Main README Project overview, getting started guide, and development workflow." [ref=e44] [cursor=pointer]:
          - /url: ../README.md
          - generic [ref=e45]: ğŸ“–
          - generic [ref=e46]: Main README
          - generic [ref=e47]: Project overview, getting started guide, and development workflow.
    - generic [ref=e48]:
      - heading "Key Features" [level=2] [ref=e49]
      - generic [ref=e50]:
        - generic [ref=e51]:
          - generic [ref=e52]: Performance
          - generic [ref=e53]: <10Âµs
          - generic [ref=e54]: p99 latency with JIT
        - generic [ref=e55]:
          - generic [ref=e56]: Speedup
          - generic [ref=e57]: 3-10x
          - generic [ref=e58]: JIT over interpreter
        - generic [ref=e59]:
          - generic [ref=e60]: Cache Hit Rate
          - generic [ref=e61]: ">99%"
          - generic [ref=e62]: for cache-heavy workloads
        - generic [ref=e63]:
          - generic [ref=e64]: Concurrency
          - generic [ref=e65]: Lock-Free
          - generic [ref=e66]: Arc-based snapshots
    - generic [ref=e67]:
      - heading "System Architecture" [level=2] [ref=e68]
      - paragraph [ref=e69]: IPE uses a subway map architecture with clear separation of concerns across parsing, compilation, storage, and execution layers. The system employs three-plane architecture with privilege boundaries between control, data, and management planes.
      - document [ref=e72]:
        - generic [ref=e74]:
          - generic [ref=e75]:
            - generic [ref=e80]: Output Layer
            - generic [ref=e85]: Evaluation Layer
            - generic [ref=e90]: Execution Layer
            - generic [ref=e95]: Storage Layer
            - generic [ref=e100]: Compilation Layer
            - generic [ref=e105]: AST Layer
            - generic [ref=e110]: Parsing Layer
            - generic [ref=e115]: Input Layer
          - generic [ref=e131]: Arc Clone
          - generic [ref=e132]:
            - generic [ref=e138]:
              - text: Decision
              - text: Allow/Deny
            - generic [ref=e143]: PolicyEngine
            - generic [ref=e149]:
              - text: RAR Context
              - text: Resource/Action/Request
            - generic [ref=e155]:
              - text: Interpreter
              - text: Baseline
            - generic [ref=e161]:
              - text: Baseline JIT
              - text: 100+ evals
            - generic [ref=e167]:
              - text: Optimized JIT
              - text: 10k+ evals
            - generic [ref=e173]:
              - text: PolicyDataStore
              - text: Lock-Free
            - generic [ref=e179]:
              - text: PolicySnapshot
              - text: Immutable
            - generic [ref=e184]: Compiler
            - generic [ref=e189]: Bytecode
            - generic [ref=e194]: Field Mapping
            - generic [ref=e199]: Abstract Syntax Tree
            - generic [ref=e204]: Type Checker
            - generic [ref=e209]: Lexer
            - generic [ref=e214]: Parser
            - generic [ref=e220]:
              - text: Policy Source
              - text: .ipe files
      - heading "Architecture Highlights" [level=3] [ref=e221]
      - list [ref=e222]:
        - listitem [ref=e223]:
          - strong [ref=e224]: "Lock-Free Storage:"
          - text: Uses Arc-based immutable snapshots for concurrent access
        - listitem [ref=e225]:
          - strong [ref=e226]: "Multi-Tier Execution:"
          - text: Interpreter â†’ Baseline JIT â†’ Optimized JIT based on policy heat
        - listitem [ref=e227]:
          - strong [ref=e228]: "Zero-Copy Evaluation:"
          - text: Direct bytecode execution without intermediate allocations
        - listitem [ref=e229]:
          - strong [ref=e230]: "Intelligent Caching:"
          - text: JIT compiled code reused across evaluations with >99% hit rates
    - generic [ref=e231]:
      - heading "WebAssembly Deployment" [level=2] [ref=e232]
      - paragraph [ref=e233]: IPE compiles to WebAssembly for client-side policy evaluation, enabling feature flags, A/B testing, and access control directly in web applications with zero latency.
      - document [ref=e236]:
        - generic [ref=e238]:
          - generic [ref=e239]:
            - generic [ref=e244]: Evaluation
            - generic [ref=e249]: Web Application
            - generic [ref=e254]: CDN / Static Hosting
            - generic [ref=e259]: Server
          - generic [ref=e271]: initial load
          - generic [ref=e272]:
            - generic [ref=e278]:
              - text: User Context
              - text: device/location/tier
            - generic [ref=e284]:
              - text: Feature Flag
              - text: A/B Test
              - text: Access Check
            - generic [ref=e289]: React/Vue/Angular
            - generic [ref=e294]: IPE WASM Engine
            - generic [ref=e299]: Policy Cache
            - generic [ref=e305]:
              - text: ipe-wasm.js
              - text: + policies.json
            - generic [ref=e310]: REST API
            - generic [ref=e315]: Policy Store
      - heading "Use Cases" [level=3] [ref=e316]
      - generic [ref=e317]:
        - generic [ref=e318]:
          - generic [ref=e319]: ğŸš©
          - generic [ref=e320]: Feature Flags
          - generic [ref=e321]: Enable/disable features based on user attributes, device type, location, or tier without server round-trips.
        - generic [ref=e322]:
          - generic [ref=e323]: ğŸ§ª
          - generic [ref=e324]: A/B Testing
          - generic [ref=e325]: Assign users to experiment cohorts based on complex targeting rules evaluated entirely client-side.
        - generic [ref=e326]:
          - generic [ref=e327]: ğŸ”
          - generic [ref=e328]: Access Control
          - generic [ref=e329]: Evaluate access policies in the browser for UI hiding/showing with server-side enforcement as fallback.
      - heading "WASM Benefits" [level=3] [ref=e330]
      - list [ref=e331]:
        - listitem [ref=e332]:
          - strong [ref=e333]: "Zero Latency:"
          - text: No network round-trip for policy evaluation
        - listitem [ref=e334]:
          - strong [ref=e335]: "Offline Capable:"
          - text: Policies work without server connectivity
        - listitem [ref=e336]:
          - strong [ref=e337]: "Reduced Load:"
          - text: Offload evaluation from servers to clients
        - listitem [ref=e338]:
          - strong [ref=e339]: "Near-Native Performance:"
          - text: WebAssembly execution speed
        - listitem [ref=e340]:
          - strong [ref=e341]: "Small Bundle:"
          - text: Optimized WASM binary (~50-100KB)
      - generic [ref=e343]: "// Example: Feature flag evaluation in browser import init, { IPEEngine } from './ipe-wasm.js'; await init(); const engine = new IPEEngine(); // Load policies await engine.load_policies(policiesJson); // Evaluate feature flag const context = { user: { tier: 'premium', location: 'US' }, device: { type: 'mobile' }, timestamp: Date.now() }; const showFeature = engine.evaluate('premium-feature', context); if (showFeature) { // Render premium feature }"
    - generic [ref=e344]:
      - heading "Predicate Evaluation & Context" [level=2] [ref=e345]
      - paragraph [ref=e346]: "IPE evaluates policies against a RAR (Resource-Action-Request) Context. The evaluation process flows through multiple stages with intelligent optimization:"
      - heading "Evaluation Flow" [level=3] [ref=e347]
      - list [ref=e348]:
        - listitem [ref=e349]:
          - strong [ref=e350]: "Context Preparation:"
          - text: Gather resource attributes, action metadata, and request information
        - listitem [ref=e351]:
          - strong [ref=e352]: "Policy Selection:"
          - text: Use index to find relevant policies for the resource type
        - listitem [ref=e353]:
          - strong [ref=e354]: "Field Mapping:"
          - text: Map context attributes to bytecode field offsets
        - listitem [ref=e355]:
          - strong [ref=e356]: "Execution Path Selection:"
          - list [ref=e357]:
            - listitem [ref=e358]:
              - text: "First evaluation:"
              - emphasis [ref=e359]: Interpreter
            - listitem [ref=e360]:
              - text: "After 100 evaluations:"
              - emphasis [ref=e361]: Baseline JIT
            - listitem [ref=e362]:
              - text: "After 10,000 evaluations:"
              - emphasis [ref=e363]: Optimized JIT
        - listitem [ref=e364]:
          - strong [ref=e365]: "Stack-Based Execution:"
          - text: Bytecode interpreter or JIT-compiled native code
        - listitem [ref=e366]:
          - strong [ref=e367]: "Decision Output:"
          - text: Allow or Deny based on policy result
      - heading "Context Structure" [level=3] [ref=e368]
      - generic [ref=e370]: "EvaluationContext { resource: { type_id: ResourceTypeId, attributes: HashMap<String, AttributeValue> }, action: { name: String, metadata: HashMap<String, AttributeValue> }, request: { timestamp: DateTime, principal: Option<Principal>, extra: HashMap<String, AttributeValue> } }"
      - heading "Performance Characteristics" [level=3] [ref=e371]
      - generic [ref=e372]:
        - generic [ref=e373]:
          - generic [ref=e374]: Interpreter
          - generic [ref=e375]: <50Âµs
          - generic [ref=e376]: p99 latency baseline
        - generic [ref=e377]:
          - generic [ref=e378]: Baseline JIT
          - generic [ref=e379]: <20Âµs
          - generic [ref=e380]: p99 with basic optimization
        - generic [ref=e381]:
          - generic [ref=e382]: Optimized JIT
          - generic [ref=e383]: <10Âµs
          - generic [ref=e384]: p99 with full optimization
      - link "View Performance Dashboard â†’" [ref=e385] [cursor=pointer]:
        - /url: performance.html
    - generic [ref=e386]:
      - heading "Getting Started" [level=2] [ref=e387]
      - paragraph [ref=e388]: "Run performance tests to see IPE in action:"
      - generic [ref=e390]: "# Install just (Rust-native task runner) cargo install just # Run all performance tests (~3 minutes) just perftest-all # View interactive dashboard open docs/performance.html # Or quick test (~20 seconds) just perftest-quick"
      - heading "Performance Tests Include:" [level=3] [ref=e391]
      - list [ref=e392]:
        - listitem [ref=e393]:
          - strong [ref=e394]: "Uniform Random:"
          - text: 100 diverse predicates (worst-case JIT)
        - listitem [ref=e395]:
          - strong [ref=e396]: "Cache Heavy:"
          - text: 10 repeated predicates (best-case JIT)
        - listitem [ref=e397]:
          - strong [ref=e398]: "Mixed Workload:"
          - text: 60% simple, 30% medium, 10% complex (realistic)
        - listitem [ref=e399]:
          - strong [ref=e400]: "Bytecode Stress:"
          - text: Deep nesting and many operations
        - listitem [ref=e401]:
          - strong [ref=e402]: "Jump Heavy:"
          - text: Branch prediction stress testing
        - listitem [ref=e403]:
          - strong [ref=e404]: "100MB Logarithmic:"
          - text: Realistic distribution of policy sizes
    - generic [ref=e405]:
      - heading "ğŸ® Live Predicate Evaluation Demo" [level=2] [ref=e406]
      - paragraph [ref=e407]: Move your mouse over the grid to see real-time predicate evaluation. Each cell has its own policy that checks mouse position boundaries. Edit the predicates on the left to experiment with different conditions!
      - generic [ref=e408]:
        - generic [ref=e409]:
          - heading "ğŸ“ Editable Predicates" [level=3] [ref=e410]
          - generic [ref=e411]:
            - generic [ref=e412]:
              - generic [ref=e413]: Cell [0,0]
              - textbox [ref=e414]: mouse.x < 200 && mouse.y < 200
            - generic [ref=e415]:
              - generic [ref=e416]: Cell [0,1]
              - textbox [ref=e417]: mouse.x >= 200 && mouse.x < 400 && mouse.y < 200
            - generic [ref=e418]:
              - generic [ref=e419]: Cell [0,2]
              - textbox [ref=e420]: mouse.x >= 400 && mouse.y < 200
            - generic [ref=e421]:
              - generic [ref=e422]: Cell [1,0]
              - textbox [ref=e423]: mouse.x < 200 && mouse.y >= 200 && mouse.y < 400
            - generic [ref=e424]:
              - generic [ref=e425]: Cell [1,1]
              - textbox [ref=e426]: mouse.x >= 200 && mouse.x < 400 && mouse.y >= 200 && mouse.y < 400
            - generic [ref=e427]:
              - generic [ref=e428]: Cell [1,2]
              - textbox [ref=e429]: mouse.x >= 400 && mouse.y >= 200 && mouse.y < 400
            - generic [ref=e430]:
              - generic [ref=e431]: Cell [2,0]
              - textbox [ref=e432]: mouse.x < 200 && mouse.y >= 400
            - generic [ref=e433]:
              - generic [ref=e434]: Cell [2,1]
              - textbox [ref=e435]: mouse.x >= 200 && mouse.x < 400 && mouse.y >= 400
            - generic [ref=e436]:
              - generic [ref=e437]: Cell [2,2]
              - textbox [ref=e438]: mouse.x >= 400 && mouse.y >= 400
          - generic [ref=e439]:
            - heading "ğŸ“Š Performance Metrics" [level=4] [ref=e440]
            - generic [ref=e441]:
              - generic [ref=e442]: "Mouse Position: -"
              - generic [ref=e443]: "Evaluations/sec: 0"
              - generic [ref=e444]: "Last Eval Time: 0.00Âµs"
              - generic [ref=e445]: "Active Cells: 1/9"
          - generic [ref=e446]:
            - strong [ref=e447]: "ğŸ’¡ Tip:"
            - text: "Try expressions like:"
            - code [ref=e448]: mouse.x > 200 && mouse.y < 300
        - generic [ref=e449]:
          - heading "ğŸ¯ 9-Slice Grid Visualization" [level=3] [ref=e450]
          - generic [ref=e451]:
            - generic [ref=e453]: "[0,0]"
            - generic [ref=e455]: "[0,1]"
            - generic [ref=e457]: "[0,2]"
            - generic [ref=e459]: "[1,0]"
            - generic [ref=e461]: "[1,1]"
            - generic [ref=e463]: "[1,2]"
            - generic [ref=e465]: "[2,0]"
            - generic [ref=e467]: "[2,1]"
            - generic [ref=e469]: "[2,2]"
          - button "ğŸ”„ Reset to Defaults" [ref=e471] [cursor=pointer]
  - contentinfo [ref=e472]:
    - paragraph [ref=e473]:
      - strong [ref=e474]: IPE
      - text: "- Intent Policy Engine"
      - text: High-Performance Policy Evaluation with Multi-Tier Execution
      - link "View on GitHub â†’" [ref=e475] [cursor=pointer]:
        - /url: https://github.com/yourusername/ipe
```